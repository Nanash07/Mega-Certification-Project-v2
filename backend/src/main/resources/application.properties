spring.application.name=certification

# Railway inject PORT; default 8080 for local/docker
server.port=${PORT:8080}

# Active profile default "local" biar dev enak
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

# ========= Datasource (overrideable per profile) =========
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/certdb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# ========= JPA defaults (overrideable) =========
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:validate}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=true

spring.jpa.properties.hibernate.jdbc.batch_size=500
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.generate_statistics=false
spring.jpa.properties.hibernate.jdbc.fetch_size=500

# ========= Logging =========
logging.level.root=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=ERROR
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=ERROR
logging.level.org.springframework.mail=INFO

# ========= Mail =========
spring.mail.test-connection=false

# ========= App custom =========
# CORS origins comma-separated: "http://localhost:5173,https://xxxx.up.railway.app"
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:http://localhost:5173}
